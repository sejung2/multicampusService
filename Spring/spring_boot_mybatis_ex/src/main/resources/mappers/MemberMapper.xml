<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.spring.mybatis.project.dao.IMemberDAO">

    <!-- id pwd가 일치하면 memeId 반환
    <select id="loginCheck" parameterType="hashmap" resultType="string">
        SELECT memId
        FROM ex_member
        WHERE memId = #{id} AND memPwd = #{pwd}
    </select> -->

    <!-- 비밀번호가 암호화 된 경우 로그인 체크 -->
    <select id="loginCheck" parameterType="string" resultType="string">
        SELECT memPwd
        FROM ex_member
        WHERE memId = #{id}
    </select>

    <!-- id 중복 체크 -->
    <select id="idCheck" parameterType="string" resultType="string">
        SELECT memId
        FROM ex_member
        WHERE memId = #{id}
    </select>

    <!-- 회원 등록 -->
    <insert id="insertMember" parameterType="com.spring.mybatis.project.model.MemberVO">
        INSERT INTO ex_member(memId, memPwd, memName, memEmail, memHP,
        memZipcode, memAddress1, memAddress2)
        VALUES(#{memId}, #{memPwd}, #{memName}, #{memEmail},
        #{memHP}, #{memZipcode}, #{memAddress1}, #{memAddress2})
    </insert>
</mapper>